# å…¨é€šè·¯è¨Šæ¯ç®¡ç†å¹³å°æ¶æ§‹

## ç³»çµ±æµç¨‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ è¼¸å…¥å±¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚   LINE@    LINEå€‹äºº    Email    é›»è©±         â”‚
â”‚     â”‚         â”‚         â”‚        â”‚          â”‚
â”‚     â–¼         â–¼         â–¼        â–¼          â”‚
â”‚  Webhook   æ‰‹å‹•è²¼ä¸Š   IMAP    Whisper       â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ èšåˆå±¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚            Message Queue                     â”‚
â”‚     (çµ±ä¸€æ ¼å¼ã€ä¾†æºæ¨™è¨˜ã€æ™‚é–“æˆ³)              â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ AI è™•ç†å±¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Context Builder            â”‚    â”‚
â”‚  â”‚  â€¢ å®¢æˆ¶ CRM è³‡æ–™                     â”‚    â”‚
â”‚  â”‚  â€¢ æ­·å²å°è©±                          â”‚    â”‚
â”‚  â”‚  â€¢ RAG çŸ¥è­˜åº«æª¢ç´¢                    â”‚    â”‚
â”‚  â”‚  â€¢ å­¸ç¿’è¨˜éŒ„ï¼ˆäººé¡ä¿®æ”¹åå¥½ï¼‰           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                     â”‚                        â”‚
â”‚                     â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Draft Generator            â”‚    â”‚
â”‚  â”‚  è¼¸å‡ºï¼š                               â”‚    â”‚
â”‚  â”‚  â€¢ å›è¦†è‰ç¨¿ï¼ˆ3 å€‹ç‰ˆæœ¬ï¼‰              â”‚    â”‚
â”‚  â”‚  â€¢ å›è¦†ç­–ç•¥èªªæ˜                       â”‚    â”‚
â”‚  â”‚  â€¢ å»ºè­°ä¸‹ä¸€æ­¥è¡Œå‹•                     â”‚    â”‚
â”‚  â”‚  â€¢ é¢¨éšªæé†’                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¯©æ ¸ä»‹é¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Dashboard UI                 â”‚    â”‚
â”‚  â”‚                                      â”‚    â”‚
â”‚  â”‚  ğŸ“¥ å¾…è™•ç†è¨Šæ¯åˆ—è¡¨ï¼ˆä¾å„ªå…ˆç´šæ’åºï¼‰    â”‚    â”‚
â”‚  â”‚                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€ è¨Šæ¯è©³æƒ… â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  â”‚ ä¾†æºï¼šLINE@ / å®¢æˆ¶ï¼šç‹å°æ˜      â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ å…§å®¹ï¼šã€Œè«‹å•ç™»è¨˜åœ°å€å¤šå°‘éŒ¢ï¼Ÿã€  â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                 â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ“‹ å®¢æˆ¶èƒŒæ™¯ï¼ˆCRMï¼‰              â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ é¦–æ¬¡è«®è©¢                      â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ ä¾†æºï¼šGAå»£å‘Š                  â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                 â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ’¡ AI å»ºè­°ç­–ç•¥                  â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ SPIN éšæ®µï¼šSituation          â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â€¢ å»ºè­°ï¼šå…ˆäº†è§£å…¬å¸å‹æ…‹å†å ±åƒ¹    â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                 â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ ğŸ“ è‰ç¨¿é¸é …                     â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â—‹ ç‰ˆæœ¬Aï¼šç›´æ¥å ±åƒ¹å‹             â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â— ç‰ˆæœ¬Bï¼šSPIN å•è¨ºå‹ï¼ˆå»ºè­°ï¼‰    â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â—‹ ç‰ˆæœ¬Cï¼šç°¡çŸ­å›è¦†å‹             â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                 â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ [ç·¨è¼¯è‰ç¨¿]                      â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â”‚ æ‚¨å¥½ï¼æ„Ÿè¬æ‚¨çš„è©¢å• ğŸ˜Š        â”‚â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â”‚ æƒ³å…ˆè«‹æ•™ä¸€ä¸‹ï¼Œæ‚¨ç›®å‰æ˜¯...    â”‚â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚    â”‚
â”‚  â”‚  â”‚                                 â”‚ â”‚    â”‚
â”‚  â”‚  â”‚ [âœ“ ç™¼é€] [ä¿®æ”¹å¾Œç™¼é€] [ç¨å¾Œè™•ç†]â”‚ â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                     â–¼
      ç›´æ¥ç™¼é€              ä¿®æ”¹å¾Œç™¼é€
            â”‚                     â”‚
            â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
            â”‚              â–¼             â”‚
            â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
            â”‚     â”‚ Diff åˆ†æ   â”‚        â”‚
            â”‚     â”‚ â€¢ æ”¹äº†ä»€éº¼   â”‚        â”‚
            â”‚     â”‚ â€¢ ç‚ºä»€éº¼æ”¹   â”‚        â”‚
            â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
            â”‚            â”‚               â”‚
            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å­¸ç¿’å±¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Learning Database            â”‚    â”‚
â”‚  â”‚                                      â”‚    â”‚
â”‚  â”‚  è¨˜éŒ„æ¯æ¬¡ä¿®æ”¹ï¼š                       â”‚    â”‚
â”‚  â”‚  â€¢ original_draft: AI åŸå§‹è‰ç¨¿       â”‚    â”‚
â”‚  â”‚  â€¢ final_version: äººé¡æœ€çµ‚ç‰ˆæœ¬       â”‚    â”‚
â”‚  â”‚  â€¢ diff: å·®ç•°å…§å®¹                    â”‚    â”‚
â”‚  â”‚  â€¢ reason: AI åˆ†æçš„ä¿®æ”¹åŸå›          â”‚    â”‚
â”‚  â”‚  â€¢ context: ç•¶æ™‚çš„æƒ…å¢ƒ               â”‚    â”‚
â”‚  â”‚  â€¢ outcome: é€™æ¬¡å°è©±çš„çµæœï¼ˆæˆäº¤?ï¼‰  â”‚    â”‚
â”‚  â”‚                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                     â”‚                        â”‚
â”‚                     â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         RAG å„ªåŒ–                     â”‚    â”‚
â”‚  â”‚                                      â”‚    â”‚
â”‚  â”‚  â€¢ é«˜è©•åƒ¹å›è¦† â†’ åŠ å…¥çŸ¥è­˜åº«           â”‚    â”‚
â”‚  â”‚  â€¢ ä¿®æ”¹æ¨¡å¼åˆ†æ â†’ èª¿æ•´ Prompt        â”‚    â”‚
â”‚  â”‚  â€¢ æˆäº¤å°è©± â†’ æå–æœ€ä½³å¯¦è¸           â”‚    â”‚
â”‚  â”‚                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒè³‡æ–™æ¨¡å‹

```
Messageï¼ˆè¨Šæ¯ï¼‰
â”œâ”€â”€ id
â”œâ”€â”€ source: line_oa | line_personal | email | phone
â”œâ”€â”€ customer_id â†’ Customer
â”œâ”€â”€ content
â”œâ”€â”€ timestamp
â”œâ”€â”€ status: pending | drafted | sent | archived
â””â”€â”€ priority: high | medium | low

Draftï¼ˆè‰ç¨¿ï¼‰
â”œâ”€â”€ id
â”œâ”€â”€ message_id â†’ Message
â”œâ”€â”€ version: A | B | C
â”œâ”€â”€ content
â”œâ”€â”€ strategy_explanation
â”œâ”€â”€ suggested_next_action
â”œâ”€â”€ is_selected: boolean
â””â”€â”€ created_at

Responseï¼ˆå›è¦†ï¼‰
â”œâ”€â”€ id
â”œâ”€â”€ message_id â†’ Message
â”œâ”€â”€ draft_id â†’ Draftï¼ˆé¸æ“‡çš„è‰ç¨¿ï¼‰
â”œâ”€â”€ original_content: AI åŸå§‹å…§å®¹
â”œâ”€â”€ final_content: å¯¦éš›ç™¼é€å…§å®¹
â”œâ”€â”€ is_modified: boolean
â”œâ”€â”€ sent_at
â””â”€â”€ sent_via: line_oa | email | ...

Modificationï¼ˆä¿®æ”¹è¨˜éŒ„ï¼‰â­ é—œéµ
â”œâ”€â”€ id
â”œâ”€â”€ response_id â†’ Response
â”œâ”€â”€ diff_summary: æ”¹äº†ä»€éº¼ï¼ˆçµæ§‹åŒ–ï¼‰
â”œâ”€â”€ diff_detail: è©³ç´°å·®ç•°
â”œâ”€â”€ ai_analyzed_reason: AI åˆ†æç‚ºä»€éº¼æ”¹
â”œâ”€â”€ human_noted_reason: äººé¡æ¨™è¨»åŸå› ï¼ˆå¯é¸ï¼‰
â”œâ”€â”€ modification_type: 
â”‚   tone | accuracy | length | structure | 
â”‚   add_info | remove_info | style | other
â””â”€â”€ created_at

LearningRecordï¼ˆå­¸ç¿’è¨˜éŒ„ï¼‰
â”œâ”€â”€ id
â”œâ”€â”€ modification_id â†’ Modification
â”œâ”€â”€ pattern: è­˜åˆ¥å‡ºçš„æ¨¡å¼
â”œâ”€â”€ weight: æ¬Šé‡
â”œâ”€â”€ applied_to_prompt: boolean
â””â”€â”€ effectiveness_score: æ‡‰ç”¨å¾Œçš„æ•ˆæœè©•åˆ†
```
